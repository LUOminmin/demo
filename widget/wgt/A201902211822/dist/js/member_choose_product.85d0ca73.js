(function(e){function t(t){for(var r,a,s=t[0],u=t[1],i=t[2],d=0,f=[];d<s.length;d++)a=s[d],o[a]&&f.push(o[a][0]),o[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);l&&l(t);while(f.length)f.shift()();return c.push.apply(c,i||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],r=!0,s=1;s<n.length;s++){var u=n[s];0!==o[u]&&(r=!1)}r&&(c.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={member_choose_product:0},c=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var i=0;i<s.length;i++)t(s[i]);var l=u;c.push([17,"chunk-vendors","chunk-common"]),n()})({17:function(e,t,n){e.exports=n("fc81")},"446d":function(e,t,n){},"8c2b":function(e,t,n){"use strict";var r=n("446d"),o=n.n(r);o.a},fc81:function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("LoadMore",{ref:"scroll",on:{loadmore:e.queryData}},[n("List",{attrs:{list:e.productList},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.item;t.index;return[n("p",{staticClass:"item q-1px-b",on:{click:function(t){return e.choose(r)}}},[n("span",[n("i",{class:{icon:r.checked}})]),n("span",[e._v(e._s(r.product_name))])])]}}])})],1),e.noResult?n("NoResult"):e._e(),n("p",{staticClass:"footer_button"},[n("span",{staticClass:"footer_choose"},[n("span",{on:{click:function(t){return e.choose(e.all)}}},[n("i",{class:{icon:e.all.checked}})]),n("span",{staticClass:"all_title"},[e._v("全选")]),!e.all.checked&&e.count>0?n("span",[e._v("已选择"),n("span",[e._v(e._s(e.count))]),e._v("个")]):e._e()]),n("span",{staticClass:"footer_ensure",on:{click:e.ensure}},[e._v("确定")])])],1)},c=[],a=n("5d73"),s=n.n(a),u=n("a3d3"),i=n("b2eb"),l=n("adb5"),d=n("87ad"),f={getProductList:function(e){var t=e.data||{},n="/app/auth/crm/multiConRedmind/listMCRemindProductDialog.do";t.user_id=d["a"].getUserId(),l["a"].ajax({url:n,api_versions:"v2",action:"获取复购商品列表",data:t,skipToast:1!=t.page,success:function(t){var n=t.object||[];e.success&&e.success(n)},error:function(e){console.log(e)}})},ensure:function(e){var t=[],n=!0,r=!1,o=void 0;try{for(var c,a=s()(e);!(n=(c=a.next()).done);n=!0){var l=c.value;if(l.checked){var d={};d.product_id=l.product_id,d.sku_code=l.sku_code,t.push(d)}}}catch(f){r=!0,o=f}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}i["a"].publish("customRefreshRedmindProduct",{list:t}),u["a"].close("member_choose_product",{isFrame:!1})}},p=n("6abe"),h=n("2d44"),v=n("d015"),_={name:"choose_product",components:{List:p["a"],LoadMore:h["a"],NoResult:v["a"]},created:function(){},mounted:function(){var e=this;i["a"].subscribe("customSearchRedmindProduct",function(t){e.query_name=t.query_name,e.page=1,e.$refs.scroll.init(),e.getProductList(!0)}),this.selectList=u["a"].getParam().productList,this.getProductList(!0)},data:function(){return{page:1,productList:[],selectList:[],all:{checked:!1,is_all:!0},count:0,query_name:"",noResult:!1}},methods:{choose:function(e){var t=0;e.checked=!e.checked;var n=!0,r=!1,o=void 0;try{for(var c,a=s()(this.productList);!(n=(c=a.next()).done);n=!0){var u=c.value;e.is_all&&(u.checked=e.checked),u.checked&&t++}}catch(i){r=!0,o=i}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}this.count=e.is_all?0:t},getProductList:function(e){var t=this,n={page:e?1:this.page,displayRecord:20,query_name:this.query_name};f.getProductList({data:n,success:function(n){var r=!0,o=!1,c=void 0;try{for(var a,u=s()(n);!(r=(a=u.next()).done);r=!0){var i=a.value,l=!0,d=!1,f=void 0;try{for(var p,h=s()(t.selectList);!(l=(p=h.next()).done);l=!0){var v=p.value;i.product_id==v.product_id&&(i.checked=!0)}}catch(_){d=!0,f=_}finally{try{l||null==h.return||h.return()}finally{if(d)throw f}}}}catch(_){o=!0,c=_}finally{try{r||null==u.return||u.return()}finally{if(o)throw c}}t.productList=e?n:t.productList.concat(n),n&&20===n.length?t.$refs.scroll.loaded():t.$refs.scroll.complete(),0==t.productList.length?(t.$refs.scroll.hideTips(),t.noResult=!0):t.noResult=!1}})},queryData:function(){this.page+=1,this.getProductList(!1)},ensure:function(){f.ensure(this.productList)}}},y=_,m=(n("8c2b"),n("2877")),b=Object(m["a"])(y,o,c,!1,null,"5bae2cb6",null),g=b.exports,w=n("d8ac");r["a"].config.productionTip=!1,w["a"].start(r["a"]),window.EventBus=new r["a"],window.isPc()?(console.log("pc"),new r["a"]({render:function(e){return e(g)},data:{Bus:new r["a"]}}).$mount("#app")):(console.log("移动端"),window.apiready=function(){new r["a"]({render:function(e){return e(g)}}).$mount("#app")})}});