(function(e){function t(t){for(var n,i,o=t[0],c=t[1],u=t[2],m=0,d=[];m<o.length;m++)i=o[m],r[i]&&d.push(r[i][0]),r[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(d.length)d.shift()();return s.push.apply(s,u||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,o=1;o<a.length;o++){var c=a[o];0!==r[c]&&(n=!1)}n&&(s.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},r={member_member_list:0},s=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var l=c;s.push([32,"chunk-vendors","chunk-common"]),a()})({"07a4":function(e,t,a){"use strict";var n=a("522d"),r=a.n(n);r.a},32:function(e,t,a){e.exports=a("3ab1")},"3ab1":function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("f751"),a("097d");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("LoadMore",{ref:"scroll",on:{loadmore:e.queryData}},[a("List",{attrs:{list:e.memberList},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.item,r=t.index;return[a("MemberListItem",{attrs:{item:n,index:r},on:{chooseMemberItem:e.toMemberDetail}})]}}])})],1),e.noResult?a("NoResult"):e._e()],1)},s=[],i=a("5176"),o=a.n(i),c=a("a3d3"),u=a("adb5"),l=a("87ad"),m=function(e){return e=e||[],e.map(function(e){return{user_name:e.user_name,user_id:e.user_id,card_no:e.card_no,sex:e.sex,integral:e.integral||0,phone:e.phone,tag_list:e.tag_list,level:l["a"].getVip(e.user_level_name),ageTag:l["a"].getMemberOld(e.birthday)}})},d={getData:function(e){var t=e.data||{},a="/app/auth/crm/user/listCrmUser.do";u["a"].ajax({url:a,api_versions:"v2",action:"获取会员数据",data:t,skipToast:1!=t.page,success:function(t){var a=t.object||[];e.success&&e.success(m(a))},error:function(t){e.error&&e.error(t)}})}},f=a("6abe"),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"member_item q-1px-b",on:{click:e.chooseItem}},[a("div",{staticClass:"member_center"},[a("p",{staticClass:"member_first"},[e.item.user_name?a("span",{staticClass:"member_user_name"},[e._v(e._s(e.item.user_name))]):e._e(),null!=e.item.sex?a("span",[1==e.item.sex?a("i",{staticClass:"member_man"}):e._e(),0==e.item.sex?a("i",{staticClass:"member_woman"}):e._e()]):e._e(),e.item.ageTag?a("span",{staticClass:"member_ageTag"},[e._v(e._s(e.item.ageTag))]):e._e(),e.item.level?a("span",[a("img",{staticClass:"member_level",attrs:{src:e.getImgUrl(e.item.level)}})]):e._e(),a("span",{staticClass:"member_integral"},[e._v("积分 "),a("span",[e._v(e._s(e.item.integral))])])]),a("p",[e.item.phone?a("span",{staticClass:"member_phone"},[a("i"),e._v(e._s(e._f("numFormat")(e.item.phone)))]):e._e(),e.item.card_no?a("span",{staticClass:"member_card_no"},[a("i"),e._v(e._s(e.item.card_no))]):e._e()]),e.item.tag_list&&e.item.tag_list.length>0?a("p",e._l(e.item.tag_list,function(t,n){return a("span",{key:n,staticClass:"member_tag"},[e._v(e._s(t.tag_name))])}),0):e._e(),e.item.tag_list&&0!=e.item.tag_list.length?e._e():a("p",{staticClass:"member_noTag"},[a("span",[e._v("无标签")])])])])},_=[],b=(a("c5f6"),{name:"MemberItem",props:{item:{type:Object,default:function(){return{user_name:"",phone:"",integral:0,card_no:"",tag_list:[]}}},index:Number},methods:{chooseItem:function(){this.$emit("chooseMemberItem",this.item.user_id)},getImgUrl:function(e){return a("1313")("./v"+e+".png")}}}),g=b,h=(a("a366"),a("2877")),v=Object(h["a"])(g,p,_,!1,null,"5108b6f8",null),L=v.exports,y=a("b2eb"),w=a("2d44"),x=a("d015"),M={user_name:"member_list",components:{List:f["a"],MemberListItem:L,LoadMore:w["a"],NoResult:x["a"]},data:function(){return{page:1,memberList:[],data:{},isLoaded:!1,noResult:!1,screen_data:{}}},created:function(){},mounted:function(){var e=this;e.getList(!0),c["a"].startRefresh(function(){e.page=1,e.$refs.scroll.init(),e.getList(!0)}),y["a"].subscribe("customRefreshMember",function(){e.page=1,e.$refs.scroll.init(),e.getList(!0)}),y["a"].subscribe("customSearchValue",function(t){e.data.search=t.value,e.page=1,e.$refs.scroll.init(),e.getList(!0)}),y["a"].subscribe("customSort",function(t){e.hiddenList=!1,e.data.sort_flag=t.item.sort_flag,e.page=1,e.$refs.scroll.init(),e.getList(!0)}),y["a"].subscribe("customUserType",function(t){for(var a in e.hiddenList=!1,t.item)e.data[a]=t.item[a];e.page=1,e.$refs.scroll.init(),e.getList(!0)}),y["a"].subscribe("customScreenData",function(t){e.hiddenList=!1,e.screen_data=t.val,e.page=1,e.$refs.scroll.init(),e.getList(!0)})},methods:{getList:function(e){var t=this,a=o()({},t.data,t.screen_data);a.page=e?1:t.page,a.displayRecord=10,d.getData({data:a,success:function(a){t.isLoaded=!0,y["a"].publish("isLoaded",{isLoaded:t.isLoaded}),t.memberList=e?a:t.memberList.concat(a),a&&10===a.length?t.$refs.scroll.loaded():t.$refs.scroll.complete(),0==t.memberList.length?(t.$refs.scroll.hideTips(),t.noResult=!0):t.noResult=!1},error:function(){t.noResult=!0,c["a"].toast("查询会员信息失败",{location:"middle"})}})},queryData:function(){this.page+=1,this.getList(!1)},toMemberDetail:function(e){l["a"].toMemberDetail(e)}}},C=M,$=(a("07a4"),Object(h["a"])(C,r,s,!1,null,"ba20af3a",null)),j=$.exports,O=a("d8ac");n["a"].config.productionTip=!1,O["a"].start(n["a"]),window.EventBus=new n["a"],window.isPc()?(console.log("pc"),new n["a"]({render:function(e){return e(j)},data:{Bus:new n["a"]}}).$mount("#app")):(console.log("移动端"),window.apiready=function(){new n["a"]({render:function(e){return e(j)}}).$mount("#app")})},"522d":function(e,t,a){},a366:function(e,t,a){"use strict";var n=a("c825"),r=a.n(n);r.a},c825:function(e,t,a){}});