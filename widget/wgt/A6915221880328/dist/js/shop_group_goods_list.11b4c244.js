(function(t){function o(o){for(var e,a,r=o[0],u=o[1],c=o[2],d=0,p=[];d<r.length;d++)a=r[d],i[a]&&p.push(i[a][0]),i[a]=0;for(e in u)Object.prototype.hasOwnProperty.call(u,e)&&(t[e]=u[e]);l&&l(o);while(p.length)p.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var t,o=0;o<n.length;o++){for(var s=n[o],e=!0,r=1;r<s.length;r++){var u=s[r];0!==i[u]&&(e=!1)}e&&(n.splice(o--,1),t=a(a.s=s[0]))}return t}var e={},i={shop_group_goods_list:0},n=[];function a(o){if(e[o])return e[o].exports;var s=e[o]={i:o,l:!1,exports:{}};return t[o].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=t,a.c=e,a.d=function(t,o,s){a.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:s})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,o){if(1&o&&(t=a(t)),8&o)return t;if(4&o&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var e in t)a.d(s,e,function(o){return t[o]}.bind(null,e));return s},a.n=function(t){var o=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(o,"a",o),o},a.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},a.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],u=r.push.bind(r);r.push=o,r=r.slice();for(var c=0;c<r.length;c++)o(r[c]);var l=u;n.push([56,"chunk-vendors","chunk-common"]),s()})({56:function(t,o,s){t.exports=s("ad6c")},7244:function(t,o,s){"use strict";var e=s("d17b"),i=s.n(e);i.a},ad6c:function(t,o,s){"use strict";s.r(o);s("cadf"),s("551c"),s("f751"),s("097d");var e=s("2b0e"),i=function(){var t=this,o=t.$createElement,s=t._self._c||o;return s("div",{attrs:{id:"app"}},[s("LoadMore",{ref:"scroll",staticClass:"load_more",on:{loadmore:t.getGoodsList}},[t.isBlank?s("WithoutData",{attrs:{status:"without_data"}}):t._l(t.groupGoodsList,function(o){return s("div",{key:o.id},[s("p",{staticClass:"group-list-wrap q-1px-b"},[s("label",[t._v(t._s(t.text[t.idx]))]),s("CountDown",{staticClass:"count-down",attrs:{time:o[0]}})],1),s("List",{attrs:{list:o},scopedSlots:t._u([{key:"default",fn:function(o){var e=o.item,i=o.index;return[s("GoodsItem",{staticClass:"q-1px-b",attrs:{item:e,index:i},on:{goodsClick:t.openGroupGoodsDetailPage}},[[s("div",{staticClass:"goods-list isgroup-list"},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.idx,expression:"!idx"}]},[s("ProgressBar",{staticClass:"progress-bar",attrs:{isgroup:!0,barwidth:e.barwidth}}),s("div",{staticClass:"group-percent"},[s("span",[t._v("已抢"+t._s(e.barwidth||0)+"%")])])],1),s("p",{staticClass:"sales-amount"},[t._v("销量 "+t._s(e.salesAmount))]),s("p",{staticClass:"price"},[s("span",{staticClass:"yuan"},[t._v("￥")]),s("label",{staticClass:"final-price"},[t._v(t._s(t._f("trans-price")(e.price)))]),s("span",{staticClass:"normal-price"},[t._v("￥"+t._s(t._f("trans-price")(e.normalPrice)))]),100==e.barwidth?s("span",{staticClass:"commission-price sold-out"},[t._v("已抢完")]):1==e.isRoyalty&&e.ownPrice>=100?s("span",{staticClass:"commission-price isgroup",on:{click:function(o){return o.stopPropagation(),t.gotoShare(e)}}},[t._v("赚"+t._s(t._f("trans-price-to-int")(e.ownPrice/100))+"元")]):t._e()])])]],2)]}}],null,!0)})],1)}),s("div",{staticClass:"margin_blank"}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowBtn,expression:"isShowBtn"}],staticClass:"share_btn",on:{click:function(o){return t.gotoListShare(t.groupGoodsList)}}},[t._v(t._s(t.bottomBtn))])],2)],1)},n=[],a=s("a3d3"),r=s("b2eb"),u=(s("adb5"),s("21f4"),s("127c")),c={getGoodsList:function(t,o){u["a"].getGroupGoodsList(t,o)},gotoGroupGoodsShare:function(t,o){u["a"].gotoGroupGoodsShare(t,o)},gotoListShare:function(t,o){u["a"].gotoListShare(t,o)},openGroupGoodsDetailPage:function(t,o){a["a"].openView("views/shop/group_goods",{param:{goodsId:t.goodsId,actId:t.actId,active_status:o,type:o},customNavigationBar:{title:"商品详情"}})}},l=s("6abe"),d=s("390f"),p=s("fef2"),f=s("2e39"),g=s("2d44"),h=s("e88e"),v={name:"group_goods_list",components:{List:l["a"],GoodsItem:d["a"],CountDown:p["a"],WithoutData:f["a"],LoadMore:g["a"],ProgressBar:h["a"]},data:function(){return{tabs:[{name:"正在拼团",value:"SELLING"},{name:"即将开始",value:"BEFORE_BEGIN"}],bottomBtnList:["分享拼团列表","分享预热拼团列表"],bottomBtn:"分享拼团列表",text:["距本场结束还有","距本场开始还有"],idx:0,groupGoodsList:[],tempList:{SELLING:[],BEFORE_BEGIN:[]},page:1,isShowBtn:!1,isBlank:!1}},created:function(){var t=this;t.getGoodsList(),a["a"].addEventListener({name:"swipeleft"},function(){console.log("estimate_royalty left"),r["a"].publish("customSwipeLeft")}),a["a"].addEventListener({name:"swiperight"},function(){console.log("estimate_royalty right"),r["a"].publish("customSwipeRight")})},mounted:function(){var t=this;a["a"].startRefresh({callback:function(){t.$refs.scroll.init(),t.page=1,t.groupGoodsList=[],t.$refs.scroll.hideTips(),t.getGoodsList("refresh",function(){t.$refs.scroll.init()})}}),r["a"].subscribe("group_goods_list_tab_selected",function(o){t.tabSelected(o)})},methods:{gotoShare:function(t){c.gotoGroupGoodsShare(t,this.idx)},tabSelected:function(t){var o=this,s=this;s.idx="SELLING"==t?0:1,s.page=1,s.$refs.scroll.hideTips(),s.groupGoodsList=[],this.bottomBtn=this.bottomBtnList[this.idx],s.getGoodsList(t,function(){o.$refs.scroll.init()})},getGoodsList:function(t,o){var s=this,e=this,i=10,n="refresh"==t||1!=e.page;c.getGoodsList({data:{type:e.tabs[e.idx].value,page:e.page,size:i},success:function(t){e.groupGoodsList=e.groupGoodsList.concat(t.groupGoodsList),e.groupGoodsList.length>0?(e.isBlank=!1,e.isShowBtn=!0):(e.isBlank=!0,e.isShowBtn=!1),s.$refs.scroll.requestOK(t.groupGoodsList,e.groupGoodsList),e.page+=1},error:function(t){s.$refs.scroll.loaded()},complete:function(t){o&&o(t)}},n)},gotoListShare:function(t){c.gotoListShare(this.idx,t)},openGroupGoodsDetailPage:function(t){c.openGroupGoodsDetailPage(t,this.idx)}}},m=v,b=(s("7244"),s("2877")),_=Object(b["a"])(m,i,n,!1,null,"186636aa",null),w=_.exports,G=s("d8ac");e["a"].config.productionTip=!1,G["a"].start(e["a"]),window.EventBus=new e["a"],window.isPc()?(console.log("pc"),new e["a"]({render:function(t){return t(w)},data:{Bus:new e["a"]}}).$mount("#app")):(console.log("移动端"),window.apiready=function(){new e["a"]({render:function(t){return t(w)}}).$mount("#app")})},d17b:function(t,o,s){}});