(function(e){function t(t){for(var n,r,i=t[0],c=t[1],u=t[2],d=0,f=[];d<i.length;d++)r=i[d],o[r]&&f.push(o[r][0]),o[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);l&&l(t);while(f.length)f.shift()();return s.push.apply(s,u||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,i=1;i<a.length;i++){var c=a[i];0!==o[c]&&(n=!1)}n&&(s.splice(t--,1),e=r(r.s=a[0]))}return e}var n={},o={member_qr_code:0},s=[];function r(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=n,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=c;s.push([35,"chunk-vendors","chunk-common"]),a()})({2112:function(e,t,a){"use strict";var n=a("40e9"),o=a.n(n);o.a},35:function(e,t,a){e.exports=a("5353")},"40e9":function(e,t,a){},5353:function(e,t,a){"use strict";a.r(t);a("cadf"),a("551c"),a("f751"),a("097d");var n=a("2b0e"),o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("h1",[e._v("二维码会员")]),a("div",{staticClass:"code_box"},[a("div",{staticClass:"head"},[a("div",{staticClass:"icon"}),a("div",{staticClass:"msg"},[a("div",{staticClass:"member_name"},[e._v(e._s(e.staff_name))]),a("div",{staticClass:"company_name"},[e._v(e._s(e.company_name))])])]),a("img",{staticClass:"qrcode",attrs:{src:e.qrcode,alt:"企业后台未设置电子会员卡，该功能暂无法使用"}}),a("div",{staticClass:"box_foot"},[a("span",{staticClass:"tips"},[e._v("扫码注册会员")]),a("span",{staticClass:"store_name"},[e._v(e._s(e.store_name))])])]),a("div",{staticClass:"btns"},[a("div",{staticClass:"save",on:{click:e.saveMediaToAlbum}},[e._v("保存到手机")]),a("div",{staticClass:"share",on:{click:e.share}},[e._v("分享")])])])},s=[],r=a("a3d3"),i=a("5176"),c=a.n(i),u={"-1":"未知错误",0:"成功",1:"apiKey非法",2:"用户取消",3:"发送失败",4:"授权拒绝",5:"微信服务器返回的不支持错误",7:"注册SDK失败"};function l(e,t){var a=r["a"].require("wx");a.isInstalled(function(a,n){a.installed?(console.log("当前设备已安装微信客户端"),e&&e()):(console.log("当前设备未安装微信客户端"),t&&t())})}function d(e,t,a){var n=r["a"].require("wx"),o={scene:"session",thumb:"",contentUrl:""},s=c()(o,e);n.shareImage(s,function(e,n){if(e.status)console.log("分享成功"),t&&t();else{var o=u[n.code]||"未知错误";a?a():r["a"].toast(o)}})}var f={isInstalled:l,shareImage:d},p=a("adb5"),m=a("f121"),v=a("2b61"),_={app_versions:"",device_code:"",platform:"",session_key:"",user_id:"",timestamp:"",token:""};function h(e){p["a"].ajax({data:{},api_versions:"v2",url:"/app/auth/shopGuide/info.do",success:function(t){if(t.success){var a=t.object||{};e&&e(a)}else r["a"].toast(t.message)}})}function g(e){r["a"].api().download({url:e,savePath:"fs://qrcodeImg.jpg",report:!0,cache:!0,allowResume:!0},function(e,t){1==e.state&&r["a"].api().saveMediaToAlbum({path:"fs://qrcodeImg.jpg"},function(e,t){e&&e.status?r["a"].toast("保存成功"):r["a"].toast("保存失败")})})}function b(e){r["a"].api().download({url:e,savePath:"fs://shareImg/qrCode.png",report:!0,cache:!1,allowResume:!0},function(e,t){if(1==e.state){var a=function(){f.shareImage({scene:"session",thumb:"fs://shareImg/qrCode.png",contentUrl:"fs://shareImg/qrCode.png"},function(){r["a"].toast("分享成功")})},n=function(){r["a"].toast("您还没有安装微信客户端")};f.isInstalled(a,n)}})}function w(){v["a"].val("UserInfo");var e=p["a"].fetchPostData({});for(var t in _)_[t]=e[t];var a="api_versions=v2&app_versions="+_.app_versions+"&device_code="+_.device_code+"&platform="+_.platform+"&session_key="+_.session_key+"&user_id="+_.user_id+"&timestamp="+_.timestamp+"&token="+_.token,n=m["a"].get(),o=n.domain,s=o+"/app/auth/shopGuide/getQrCode.do?"+a;return s}var y={getInfo:h,saveMediaToAlbum:g,share:b,makeQrCode:w},C={name:"qr_code",components:{},created:function(){},mounted:function(){var e=this;y.getInfo(function(t){e.staff_name=t.staff_name,e.company_name=t.company_name,e.store_name=t.store_name}),e.qrcode=y.makeQrCode()},data:function(){return{qrcode:"",staff_name:"",company_name:"",store_name:""}},methods:{saveMediaToAlbum:function(){var e=this.qrcode;return y.saveMediaToAlbum(e)},share:function(){var e=this.qrcode;return y.share(e)}}},q=C,k=(a("2112"),a("2877")),I=Object(k["a"])(q,o,s,!1,null,"36ce3aec",null),j=I.exports,x=a("d8ac");n["a"].config.productionTip=!1,x["a"].start(n["a"]),window.EventBus=new n["a"],window.isPc()?(console.log("pc"),new n["a"]({render:function(e){return e(j)},data:{Bus:new n["a"]}}).$mount("#app")):(console.log("移动端"),window.apiready=function(){new n["a"]({render:function(e){return e(j)}}).$mount("#app")})}});