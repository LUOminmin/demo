(function(t){function o(o){for(var e,a,i=o[0],c=o[1],u=o[2],d=0,p=[];d<i.length;d++)a=i[d],n[a]&&p.push(n[a][0]),n[a]=0;for(e in c)Object.prototype.hasOwnProperty.call(c,e)&&(t[e]=c[e]);l&&l(o);while(p.length)p.shift()();return r.push.apply(r,u||[]),s()}function s(){for(var t,o=0;o<r.length;o++){for(var s=r[o],e=!0,i=1;i<s.length;i++){var c=s[i];0!==n[c]&&(e=!1)}e&&(r.splice(o--,1),t=a(a.s=s[0]))}return t}var e={},n={shop_group_goods_list:0},r=[];function a(o){if(e[o])return e[o].exports;var s=e[o]={i:o,l:!1,exports:{}};return t[o].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=t,a.c=e,a.d=function(t,o,s){a.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:s})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,o){if(1&o&&(t=a(t)),8&o)return t;if(4&o&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var e in t)a.d(s,e,function(o){return t[o]}.bind(null,e));return s},a.n=function(t){var o=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(o,"a",o),o},a.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},a.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=o,i=i.slice();for(var u=0;u<i.length;u++)o(i[u]);var l=c;r.push([19,"chunk-vendors","chunk-common"]),s()})({19:function(t,o,s){t.exports=s("ad6c")},"215e":function(t,o,s){},ad6c:function(t,o,s){"use strict";s.r(o);s("cadf"),s("551c"),s("f751"),s("097d");var e=s("2b0e"),n=function(){var t=this,o=t.$createElement,s=t._self._c||o;return s("div",{attrs:{id:"app"}},[s("LoadMore",{ref:"scroll",staticClass:"load_more",on:{loadmore:t.getGoodsList}},[t.groupGoodsList.length<=0?s("WithoutData",{attrs:{status:"without_data"}}):t._l(t.groupGoodsList,function(o){return s("div",{key:o.id},[s("p",{staticClass:"group-list-wrap q-1px-b"},[s("label",[t._v(t._s(t.text[t.idx]))]),s("CountDown",{staticClass:"count-down",attrs:{time:o[0]}})],1),s("List",{attrs:{list:o},scopedSlots:t._u([{key:"default",fn:function(o){var e=o.item,n=o.index;return[s("GoodsItem",{staticClass:"q-1px-b",attrs:{item:e,index:n},on:{goodsClick:t.openGroupGoodsDetailPage}},[[s("div",{staticClass:"goods-list isgroup-list"},[s("div",{directives:[{name:"show",rawName:"v-show",value:!t.idx,expression:"!idx"}]},[s("ProgressBar",{staticClass:"progress-bar",attrs:{isgroup:!0,barwidth:e.barwidth}}),s("div",{staticClass:"group-percent"},[s("span",[t._v("已抢"+t._s(e.barwidth||0)+"%")])])],1),s("p",{staticClass:"sales-amount"},[t._v("销量 "+t._s(e.salesAmount))]),s("p",{staticClass:"price"},[s("span",{staticClass:"yuan"},[t._v("￥")]),s("label",{staticClass:"final-price"},[t._v(t._s(t._f("trans-price")(e.price)))]),s("span",{staticClass:"normal-price"},[t._v("￥"+t._s(t._f("trans-price")(e.normalPrice)))]),100==e.barwidth?s("span",{staticClass:"commission-price sold-out"},[t._v("已抢完")]):1==e.isRoyalty&&e.ownPrice>=100?s("span",{staticClass:"commission-price isgroup"},[t._v("赚"+t._s(t._f("trans-price-to-int")(e.ownPrice/100))+"元")]):t._e()])])]],2)]}}],null,!0)})],1)}),s("div",{staticClass:"margin_blank"}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowBtn,expression:"isShowBtn"}],staticClass:"share_btn",on:{click:function(o){return t.gotoListShare(t.groupGoodsList)}}},[t._v(t._s(t.bottomBtn))])],2)],1)},r=[],a=s("f499"),i=s.n(a),c=s("a3d3"),u=s("b2eb"),l=s("bf2b"),d=s("6abe"),p=s("390f"),f=s("fef2"),g=s("2e39"),h=s("2d44"),v=s("e88e"),b={name:"group_goods_list",components:{List:d["a"],GoodsItem:p["a"],CountDown:f["a"],WithoutData:g["a"],LoadMore:h["a"],ProgressBar:v["a"]},data:function(){return{tabs:[{name:"正在拼团",value:"SELLING"},{name:"即将开始",value:"BEFORE_BEGIN"}],bottomBtnList:["分享拼团列表","分享预热拼团列表"],bottomBtn:"分享拼团列表",text:["距本场结束还有","距本场开始还有"],idx:0,groupGoodsList:[],tempList:{SELLING:[],BEFORE_BEGIN:[]},page:1,isShowBtn:!1}},created:function(){var t=this;t.getGoodsList()},mounted:function(){var t=this;c["a"].startRefresh({callback:function(){t.page=1,t.groupGoodsList=[],t.getGoodsList("refresh")}}),u["a"].subscribe("group_goods_list_tab_selected",function(o){t.tabSelected(o)})},methods:{tabSelected:function(t){var o=this;o.idx="SELLING"==t?0:1,o.page=1,o.groupGoodsList=[],this.bottomBtn=this.bottomBtnList[this.idx],o.getGoodsList(t),this.$refs.scroll.init()},getGoodsList:function(t){var o=this,s=this,e=10,n="refresh"==t||1!=s.page;l["a"].getGoodsList({data:{type:s.tabs[s.idx].value,page:s.page,size:e},success:function(t){s.groupGoodsList=s.groupGoodsList.concat(t.groupGoodsList),s.groupGoodsList.length>0?s.isShowBtn=!0:s.isShowBtn=!1,t.groupGoodsList&&t.groupGoodsList.length===e?o.$refs.scroll.loaded():o.$refs.scroll.complete(),s.page+=1},error:function(t){o.$refs.scroll.loaded()}},n)},gotoListShare:function(t){console.log(i()(t)),l["a"].gotoListShare(this.idx,t)},openGroupGoodsDetailPage:function(t){l["a"].openGroupGoodsDetailPage(t,this.idx)}}},_=b,m=(s("af1c"),s("2877")),w=Object(m["a"])(_,n,r,!1,null,"522000cc",null),L=w.exports,G=s("d8ac");e["a"].config.productionTip=!1,G["a"].start(e["a"]),window.EventBus=new e["a"],window.isPc()?(console.log("pc"),new e["a"]({render:function(t){return t(L)},data:{Bus:new e["a"]}}).$mount("#app")):(console.log("移动端"),window.apiready=function(){new e["a"]({render:function(t){return t(L)}}).$mount("#app")})},af1c:function(t,o,s){"use strict";var e=s("215e"),n=s.n(e);n.a}});